<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[iView组件库之下拉框dropdown(树形结构)]]></title>
    <url>%2F2019%2F03%2F29%2FIview%E7%BB%84%E4%BB%B6%E4%B8%8B%E6%8B%89%E6%A1%86%E6%A0%91%E5%BD%A2%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Iview组件下拉框树形组件iview官方示例 实现的效果 dropdown有个属性 transfer 是否将弹层放置于 body 内，在 Tabs、带有 fixed 的 Table 列内使用时，建议添加此属性，它将不受父级样式影响，从而达到更好的效果 Boolean false 赋值给它 false，这样不会因为失去焦点，而有部分内容会”消失” 我们观察iview给出的示例 &lt;template&gt; &lt;Dropdown&gt; &lt;a href=&quot;javascript:void(0)&quot;&gt; 北京小吃 &lt;Icon type=&quot;ios-arrow-down&quot;&gt;&lt;/Icon&gt; &lt;/a&gt; &lt;DropdownMenu slot=&quot;list&quot;&gt; &lt;DropdownItem&gt;驴打滚&lt;/DropdownItem&gt; &lt;DropdownItem&gt;炸酱面&lt;/DropdownItem&gt; &lt;DropdownItem&gt;豆汁儿&lt;/DropdownItem&gt; &lt;Dropdown placement=&quot;right-start&quot;&gt; &lt;DropdownItem&gt; 北京烤鸭 &lt;Icon type=&quot;ios-arrow-forward&quot;&gt;&lt;/Icon&gt; &lt;/DropdownItem&gt; &lt;DropdownMenu slot=&quot;list&quot;&gt; &lt;DropdownItem&gt;挂炉烤鸭&lt;/DropdownItem&gt; &lt;DropdownItem&gt;焖炉烤鸭&lt;/DropdownItem&gt; &lt;/DropdownMenu&gt; &lt;/Dropdown&gt; &lt;DropdownItem&gt;冰糖葫芦&lt;/DropdownItem&gt; &lt;/DropdownMenu&gt; &lt;/Dropdown&gt; &lt;/template&gt; export default { } 我们可以发现Dropdown是下拉框未选择时的名字DropdownMenu里有每个下拉框的子项DropdownItem如果当某个下拉框的子项有子项时，这个下拉框的子项是Dropdown和DropDownItem组成，它的子项是由DropdownMenu和DropdownItem组成。因此我们需要构造这样的层级关系。 我们需要写两个组件 树结构组件 递归组件(递归调用自己) 递归组件 // 未选中的值，如果有值选中，则改为选中的值 import ColumnDropTree from './ColumnDropTree' export default { name: 'ColumnTree', components: { ColumnDropTree }, data () { return { parent: Array, treeTop: '请选择', } }, props: { treeValue: Array | Object, }, computed: {}, methods: { // 子组件向父组件上抛的一个事件，用来传递下拉框中选中的值 childByValue (childValue) { this.treeTop = childValue this.$emit('checkByValue', this.treeTop) } }, watch: { }, created () { }, mounted () { } } 树组件 &lt;!-- 树节点的子节点 --&gt; &lt;template&gt; &lt;div class=&quot;tree-view-item&quot;&gt; &lt;div v-for=&quot;node in parent&quot; :key=&quot;node.id&quot;&gt; // 当节点有孩子节点而且孩子节点的长度大于0 进行递归 &lt;div v-if=&quot;node.childColumn &amp;&amp; node.childColumn.length &gt; 0&quot;&gt; &lt;Dropdown :transfer=&quot;false&quot; @on-click=&quot;handleClick&quot; placement=&quot;right-start&quot;&gt; &lt;DropdownItem :name=&quot;node.columnTitle&quot;&gt; {{node.columnTitle}} &lt;/DropdownItem&gt; &lt;DropdownMenu slot=&quot;list&quot;&gt; &lt;ColumnDropTree :parent=&quot;node.childColumn&quot;&gt;&lt;/ColumnDropTree&gt; &lt;/DropdownMenu&gt; &lt;/Dropdown&gt; &lt;/div&gt; &lt;div v-else&gt; // 否则不递归 &lt;DropdownItem :name=&quot;node.columnTitle&quot;&gt; {{node.columnTitle}} &lt;/DropdownItem&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import ColumnDropTree from &apos;./ColumnDropTree&apos; export default { name: &apos;ColumnDropTree&apos;, components: { ColumnDropTree }, data () { return { parentName: &apos;&apos;, childValue: &apos;&apos; } }, props: { parent: Array }, computed: {}, methods: { // 上抛事件 把选中的值上抛给父组件 handleClick (name) { this.childValue = name this.$emit(&apos;childByValue&apos;, this.childValue) } }, watch: { parent (val) { console.log(parent) } }, created () { }, mounted () {} } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; 我的githubhttps://github.com/zhangzheming629/IView/tree/master/dropDown]]></content>
      <tags>
        <tag>iview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Iview组件库树形控件增删改]]></title>
    <url>%2F2019%2F03%2F28%2FIview%E7%BB%84%E4%BB%B6%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E5%A2%9E%E5%88%A0%E6%94%B9%2F</url>
    <content type="text"><![CDATA[Iview组件库树形控件增删改iview组件库中有个树组件tree，根据官方示例，通过自定义组件实现renderContent的效果，实现了树组件的增删改操作。 实现的效果 iview中tree示例由iview官方文档我们可以知道，tree是有root、node、data组成。root 是根节点node:当前节点data:当前节点的数据 让我们开始用代码实现它tree Component基本 &lt;Tree :data=”treeData” :render=”renderContent” data是tree的一个props，用来生成tree的数据，类型是Array，默认值是[]。通过treeData给data赋值 render是tree的一个props，用来自定义渲染内容我们通过renderContent方法实现自定义的render效果 import TreeRender from &apos;./TreeRender&apos; export default { name: &apos;Column&apos;, components: {}, data () { return { treeData: [], // 树结构 treeList: null } }, renderContent (h, {root, node, data}) { let that = this return h(**TreeRenderRender**, { props: { treeRoot: root, treeNode: node, treeData: data }, on: { nodeAdd: (d) =&gt; that.handleAdd(d), nodeEdit: (r, n, d) =&gt; that.handleEdit(r, n, d), nodeDel: (r, n, d) =&gt; that.handleDelete(r, n, d), nodeAfterEdit: (r, n, d) =&gt; that.handleAfterEdit(r, n, d) } }) }, nodeAdd是添加方法 nodeEdit是点击编辑后的方法 nodeAfterEdit是编辑后失去焦点的方法 nodeDel是删除的方法 render基本组件 &lt;span&gt; &lt;span v-if=&quot;isEdit&quot;&gt; &lt;input size=&quot;small&quot; v-model=&quot;treeData.title&quot; autofocus @blur=&quot;nodeEditPass(treeRoot,treeNode,treeData)&quot;/&gt; &lt;/span&gt; &lt;template v-else&gt; &lt;span&gt;{{treeData.title}}&lt;/span&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span v-show=&quot;!isEdit&quot;&gt; &lt;Button type=&quot;info&quot; size=&quot;small&quot; icon=&quot;md-add&quot; @click=&quot;nodeAdd(treeData)&quot;&gt;添加&lt;/Button&gt; &lt;Button type=&quot;primary&quot; size=&quot;small&quot; icon=&quot;md-create&quot; @click=&quot;nodeEdit(treeRoot,treeNode,treeData)&quot;&gt;修改&lt;/Button&gt; &lt;Button type=&quot;error&quot; size=&quot;small&quot; icon=&quot;md-close&quot; @click=&quot;nodeDel(treeRoot,treeNode,treeData)&quot;&gt;删除&lt;/Button&gt; &lt;/span&gt; &lt;/template&gt; &lt;/span&gt; props: { // 树的根节点 treeRoot: { type: Array }, // 当前节点 treeNode: { type: Object }, // 当前节点的数据 treeData: { type: Object } nodeAdd (d) { this.$emit(&apos;nodeAdd&apos;, d) }, nodeEdit (r, n, d) { this.isEdit = true d.isEdit = this.isEdit d.title = this.treeData.title this.$set(d, &apos;isEdit&apos;, d.isEdit) this.$set(d, &apos;title&apos;, d.title) this.$emit(&apos;nodeEdit&apos;, r, n, d) }, nodeEditPass (r, n, d) { // 编辑完成 this.isEdit = false d.isEdit = this.isEdit d.title = this.treeData.title this.$set(d, &apos;isEdit&apos;, d.isEdit) this.$set(d, &apos;title&apos;, d.title) this.$emit(&apos;nodeAfterEdit&apos;, r, n, d) }, nodeDel (r, n, d) { this.$emit(&apos;nodeDel&apos;, r, n, d) } 通过$emit的方式将增、改、删的操作抛给column组件 思考一下我们还缺少什么？ 负责给绑定data的treeData 因为data是Array，需要写一个递归方法 增删改的方法的实现 详细代码见我的githubhttps://github.com/zhangzheming629/IView/tree/master/tree]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F06%2F19%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Hello world 从对github的了解和使用，购买域名以及DNS解析，个人博客终于搭建好了我会这里记录自己工作以及生活上的点点滴滴，以及一些学习的心得。Coding your ambition!]]></content>
  </entry>
</search>
